<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MotoCycling: Knowledge Base</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <style>
    .tab { display: none; }
    .tab.active { display: block; }
  </style>
</head>
<body>

  <button onclick="showTab('tab1')">Эвакуаторы/СТО</button>
  <button onclick="showTab('tab2')">Мастерские</button>
  <button onclick="showTab('tab3')">Экип</button>

  <div id="tab1" class="tab"></div>
  <div id="tab2" class="tab"></div>
  <div id="tab3" class="tab"></div>

  <script>
    function loadCSV(url, elementId) {
      Papa.parse(url, {
        download: true,
        header: true,
        complete: function(results) {
          const table = document.createElement('table');
          const thead = document.createElement('thead');
          const tbody = document.createElement('tbody');

          // заголовки
          const headers = Object.keys(results.data[0]);
          const headerRow = document.createElement('tr');
          headers.forEach(h => {
            const th = document.createElement('th');
            th.textContent = h;
            headerRow.appendChild(th);
          });
          thead.appendChild(headerRow);

          // данные
          results.data.forEach(row => {
            const tr = document.createElement('tr');
            headers.forEach(h => {
              const td = document.createElement('td');
              td.textContent = row[h];
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          });

          table.appendChild(thead);
          table.appendChild(tbody);
          document.getElementById(elementId).appendChild(table);
        }
      });
    }

    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }

    loadCSV('data/tab1.csv', 'tab1');
    loadCSV('data/tab2.csv', 'tab2');
    loadCSV('data/tab3.csv', 'tab3');
    showTab('tab1');
  </script>

</body>
</html>
